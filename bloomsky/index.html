<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
     <h3>Bloomsky WIFI parameters config (via bluetooth)</h3>
     Please hard reset your SKY2 first pushing the power button briefly and then by holding the wifi button for 8+ seconds (may have to repeat multiple times). The wifi icon must blink <b>alternate</b> colors.<br>
     <hr>
    <form>
       <label for="name">Device Name (do not change): </label>
       <input id="name" type="text" value="BSKY" placeholder="Device Name"><br>
       <button id="scan">Connect to SKY2 via Bluetooth</button>
       <!-- <button id="reconnect">Reconnect</button>
       <button id="disconnect">Disconnect</button><br> -->
       <hr> 
       <label for="deviceid">Device ID: </label>
       <input id="deviceid" type="text" value="" readonly placeholder="Device ID"><br>
       <label for="status">Device Status: </label>
       <input id="status" type="text" value="" readonly placeholder="Status">
       <svg xmlns="http://www.w3.org/2000/svg" id="getStatus" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" style="vertical-align: middle;" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
          <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
       </svg>
       <br>
       <hr>
       <input id="wifi_ssid" type="text" autofocus="" placeholder="Your WIFI SSID"><br>
       <input id="wifi_pass" type="text" value="" placeholder="Your WIFI Password"><br>
       <button id="updatewifi">Update WIFI</button>
       <button id="reboot">Reboot</button><br> 
       <hr>
       Note: After you update WIFI wait until the status changes (by clicking on the refresh icon) to:<br>
       1: Wait -- keep waiting -- if more than 30s something else went wrong<br>
       3: Good -- you are connected and pinging gateway -- you can't change them without hard resetting again. you can now reboot.<br>
       4: Not Good -- issues with writing ssid/pass -- check your/my code.<br>
       5: Not Good -- couldn't connect wifi -- try again -- most likely a reboot needed.<br>
       <br>
       <b>For browsers with Bluetooth API support only e.g. Chrome.</b><br><br>
       <!--
       <hr>
       <button id="getDetails">Get device details</button>
       <button id="getTest">Test</button>
       <button id="getTestSend">Test Send</button><br> 
       -->
    </form>

    <div id="details"></div>
    <script src="script.js"></script>
  </body>
</html>
